{"ast":null,"code":"import _objectSpread from\"C:/Users/Jsala/Z\\xE1loha/Osobn\\xED/Jirka/WeboveAplikace/Kurzy/Javascript/Kurz-jsReact/project-3a/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Jsala/Z\\xE1loha/Osobn\\xED/Jirka/WeboveAplikace/Kurzy/Javascript/Kurz-jsReact/project-3a/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/Jsala/Z\\xE1loha/Osobn\\xED/Jirka/WeboveAplikace/Kurzy/Javascript/Kurz-jsReact/project-3a/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/Jsala/Z\\xE1loha/Osobn\\xED/Jirka/WeboveAplikace/Kurzy/Javascript/Kurz-jsReact/project-3a/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createStore,action,thunk,computed}from\"easy-peasy\";import api from'./api/posts';export default createStore({posts:[],setPosts:action(function(state,payload){state.posts=payload;}),postTitle:[],setPostTitle:action(function(state,payload){state.postTitle=payload;}),postBody:[],setPostBody:action(function(state,payload){state.postBody=payload;}),editTitle:[],setEditTitle:action(function(state,payload){state.editTitle=payload;}),editBody:[],setEditBody:action(function(state,payload){state.editBody=payload;}),search:'',setSearch:action(function(state,payload){state.search=payload;}),searchResults:[],setSearchResults:action(function(state,payload){state.searchResults=payload;}),postCount:computed(function(state){return state.posts.length;}),getPostId:computed(function(state){return function(id){return state.posts.find(function(post){return post.id.toString()===id;});};}),savePost:thunk(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(action,newPost,helper){var _helper$getState,posts,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_helper$getState=helper.getState(),posts=_helper$getState.posts;_context.prev=1;_context.next=4;return api.post(\"/posts/\",newPost);case 4:response=_context.sent;action.setPosts([].concat(_toConsumableArray(posts),[response.data]));action.setPostTitle(\"\");action.setPostBody(\"\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log(\"Error:\".concat(_context.t0.message));case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}()),deletePost:thunk(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(action,id,helper){var _helper$getState2,posts,postsList;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_helper$getState2=helper.getState(),posts=_helper$getState2.posts;_context2.prev=1;_context2.next=4;return api.delete(\"/posts/\".concat(id));case 4:postsList=posts.filter(function(post){return post.id!==id;});action.setPosts(postsList);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(\"Error:\".concat(_context2.t0.message));case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}()),editPost:thunk(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(action,updatePost,helper){var _helper$getState3,posts,id,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_helper$getState3=helper.getState(),posts=_helper$getState3.posts;id=updatePost.id;_context3.prev=2;_context3.next=5;return api.put(\"/posts/\".concat(id),updatePost);case 5:response=_context3.sent;action.setPosts(posts.map(function(post){return post.id===id?_objectSpread({},response.data):post;}));action.setEditTitle('');action.setEditBody('');_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](2);console.log(\"Error:\".concat(_context3.t0.message));case 14:case\"end\":return _context3.stop();}},_callee3,null,[[2,11]]);}));return function(_x7,_x8,_x9){return _ref3.apply(this,arguments);};}())});","map":{"version":3,"names":["createStore","action","thunk","computed","api","posts","setPosts","state","payload","postTitle","setPostTitle","postBody","setPostBody","editTitle","setEditTitle","editBody","setEditBody","search","setSearch","searchResults","setSearchResults","postCount","length","getPostId","id","find","post","toString","savePost","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newPost","helper","_helper$getState","response","wrap","_callee$","_context","prev","next","getState","sent","concat","_toConsumableArray","data","t0","console","log","message","stop","_x","_x2","_x3","apply","arguments","deletePost","_ref2","_callee2","_helper$getState2","postsList","_callee2$","_context2","delete","filter","_x4","_x5","_x6","editPost","_ref3","_callee3","updatePost","_helper$getState3","_callee3$","_context3","put","map","_objectSpread","_x7","_x8","_x9"],"sources":["C:/Users/Jsala/Záloha/Osobní/Jirka/WeboveAplikace/Kurzy/Javascript/Kurz-jsReact/project-3a/src/Store.js"],"sourcesContent":["import { createStore, action, thunk, computed } from \"easy-peasy\";\r\nimport api from './api/posts';\r\n\r\nexport default\r\n    createStore({\r\n        posts: [],\r\n        setPosts: action((state, payload) => {\r\n            state.posts = payload;\r\n        }),\r\n\r\n        postTitle: [],\r\n        setPostTitle: action((state, payload) => {\r\n            state.postTitle = payload;\r\n        }),\r\n\r\n        postBody: [],\r\n        setPostBody: action((state, payload) => {\r\n            state.postBody = payload;\r\n        }),\r\n\r\n        editTitle: [],\r\n        setEditTitle: action((state, payload) => {\r\n            state.editTitle = payload;\r\n        }),\r\n        editBody: [],\r\n        setEditBody: action((state, payload) => {\r\n            state.editBody = payload;\r\n        }),\r\n\r\n        search: '',\r\n        setSearch: action((state, payload) => {\r\n            state.search = payload;\r\n        }),\r\n\r\n        searchResults: [],\r\n        setSearchResults: action((state, payload) => {\r\n            state.searchResults = payload;\r\n        }),\r\n\r\n        postCount: computed((state) => state.posts.length),\r\n        getPostId: computed((state) => {\r\n            return (id) => state.posts.find(post => (post.id).toString() === id);\r\n        }),\r\n\r\n        savePost: thunk(async (action, newPost, helper) => {\r\n            const { posts } = helper.getState();\r\n            try {\r\n                const response = await api.post(`/posts/`, newPost);\r\n                action.setPosts([...posts, response.data]);\r\n                action.setPostTitle(\"\");\r\n                action.setPostBody(\"\");\r\n            } catch (err) {\r\n                console.log(`Error:${err.message}`);\r\n            }\r\n        }),\r\n\r\n        deletePost: thunk(async (action, id, helper) => {\r\n            const { posts } = helper.getState();\r\n            try {\r\n                await api.delete(`/posts/${id}`);\r\n                const postsList = posts.filter(post => post.id !== id);\r\n                action.setPosts(postsList);\r\n            } catch (err) {\r\n                console.log(`Error:${err.message}`);\r\n            }\r\n        }),\r\n\r\n        editPost: thunk(async (action, updatePost, helper) => {\r\n            const {posts} = helper.getState();\r\n            const { id } = updatePost;\r\n            try {\r\n                const response = await api.put(`/posts/${id}`, updatePost);\r\n                action.setPosts(posts.map((post) => post.id === id ? { ...response.data } : post));\r\n                action.setEditTitle('');\r\n                action.setEditBody('');\r\n\r\n            } catch (err) {\r\n                console.log(`Error:${err.message}`);\r\n            }\r\n        })\r\n\r\n    });\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}