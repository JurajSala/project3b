{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import{format}from'date-fns';/*import api from \"./api/posts\"\r\nimport { useState,useContext } from \"react\";\r\nimport DataContext from \"./context/DataContext\";*/import{useStoreActions,useStoreState}from\"easy-peasy\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewPost=function NewPost(/*{ postTitle, setPostTitle, postBody, setPostBody, handleSubmit }*/){var postTitle=useStoreState(function(state){return state.postTitle;});var postBody=useStoreState(function(state){return state.postBody;});var posts=useStoreState(function(state){return state.posts;});var setPostTitle=useStoreActions(function(actions){return actions.setPostTitle;});var setPostBody=useStoreActions(function(actions){return actions.setPostBody;});var savePost=useStoreActions(function(actions){return actions.savePost;});/*const [postTitle, setPostTitle] = useState('');\r\n  const [postBody, setPostBody] = useState('');\r\n  const { posts,setPosts }=useContext(DataContext);*/var handleSubmit=function handleSubmit(){var id=posts.length?posts[posts.length-1].id+1:1;var datetime=format(new Date(),'MMMM dd , yyyy pp');var newPost={id:id,title:postTitle,datetime:datetime,body:postBody};/*try {\r\n        const response = await api.post(`/posts/`, newPost);\r\n        const allPosts = [...posts, response.data];\r\n        setPosts(allPosts);\r\n        setPostTitle(\"\");\r\n        setPostBody(\"\");\r\n    } catch (err) {\r\n        console.log(`Error:${err.message}`);\r\n    }*/savePost(newPost);};var navigace=useNavigate();return/*#__PURE__*/_jsxs(\"main\",{className:\"NewPost\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New Post\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"newPostForm\",onSubmit:function onSubmit(e){e.preventDefault();handleSubmit();navigace(\"/\");},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postTitle\",children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"postTitle\",type:\"text\",required:true,value:postTitle,onChange:function onChange(e){return setPostTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postBody\",children:\"Body:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"postBody\",required:true,value:postBody,onChange:function onChange(e){return setPostBody(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\" Submit\"})]})]});};export default NewPost;","map":{"version":3,"names":["useNavigate","format","useStoreActions","useStoreState","jsx","_jsx","jsxs","_jsxs","NewPost","postTitle","state","postBody","posts","setPostTitle","actions","setPostBody","savePost","handleSubmit","id","length","datetime","Date","newPost","title","body","navigace","className","children","onSubmit","e","preventDefault","htmlFor","type","required","value","onChange","target"],"sources":["C:/Users/Jsala/Záloha/Osobní/Jirka/WeboveAplikace/Kurzy/Javascript/Kurz-jsReact/project-3a/src/NewPost.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\r\nimport { format } from 'date-fns';\r\n/*import api from \"./api/posts\"\r\nimport { useState,useContext } from \"react\";\r\nimport DataContext from \"./context/DataContext\";*/\r\nimport { useStoreActions,useStoreState } from \"easy-peasy\";\r\n\r\nconst NewPost = (/*{ postTitle, setPostTitle, postBody, setPostBody, handleSubmit }*/) => {\r\n  const postTitle=useStoreState((state)=>state.postTitle);\r\n  const postBody=useStoreState((state)=>state.postBody);\r\n  const posts=useStoreState((state)=>state.posts);\r\n\r\n  const setPostTitle=useStoreActions((actions)=>actions.setPostTitle);\r\n  const setPostBody=useStoreActions((actions)=>actions.setPostBody);\r\n  const savePost=useStoreActions((actions)=>actions.savePost);\r\n  /*const [postTitle, setPostTitle] = useState('');\r\n  const [postBody, setPostBody] = useState('');\r\n  const { posts,setPosts }=useContext(DataContext);*/\r\n  \r\n  const handleSubmit =() => {\r\n    const id = posts.length ? (posts[posts.length - 1].id + 1) : 1;\r\n    const datetime = format(new Date(), 'MMMM dd , yyyy pp');\r\n    const newPost = { id, title: postTitle, datetime, body: postBody };\r\n    /*try {\r\n        const response = await api.post(`/posts/`, newPost);\r\n        const allPosts = [...posts, response.data];\r\n        setPosts(allPosts);\r\n        setPostTitle(\"\");\r\n        setPostBody(\"\");\r\n    } catch (err) {\r\n        console.log(`Error:${err.message}`);\r\n    }*/\r\n    savePost(newPost);\r\n};\r\n  let navigace=useNavigate();\r\n  return (\r\n    <main className=\"NewPost\">\r\n      <h2>New Post</h2>\r\n      <form className=\"newPostForm\" onSubmit={(e)=>{e.preventDefault();handleSubmit(); navigace(\"/\");}}>\r\n        <label htmlFor=\"postTitle\">Title:</label>\r\n        <input\r\n          id=\"postTitle\"\r\n          type=\"text\"\r\n          required\r\n          value={postTitle}\r\n          onChange={(e) => setPostTitle(e.target.value)}\r\n        />\r\n        <label htmlFor=\"postBody\">Body:</label>\r\n        <textarea\r\n          id=\"postBody\"\r\n          required\r\n          value={postBody}\r\n          onChange={(e) => setPostBody(e.target.value)}\r\n        />\r\n        <button type=\"submit\"> Submit</button>\r\n      </form>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default NewPost\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}