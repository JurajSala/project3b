{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Jsala/Z\\xE1loha/Osobn\\xED/Jirka/WeboveAplikace/Kurzy/Javascript/Kurz-jsReact/project-3a/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Jsala/Z\\xE1loha/Osobn\\xED/Jirka/WeboveAplikace/Kurzy/Javascript/Kurz-jsReact/project-3a/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useParams,Link,useNavigate}from'react-router-dom';/*import { useContext } from 'react';\r\nimport api from \"./api/posts\";\r\nimport DataContext from './context/DataContext';*/import{useStoreActions,useStoreState}from'easy-peasy';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostPage=function PostPage(/*{posts, handleDelete}*/){/*const {posts,setPosts}=useContext(DataContext);*/var _useParams=useParams(),id=_useParams.id;var navigace=useNavigate();var getPostId=useStoreState(function(actions){return actions.getPostId;});var deletePost=useStoreActions(function(actions){return actions.deletePost;});var post=getPostId(id);/*posts.find(post=>(post.id).toString()===id);*/var handleDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:deletePost(id);/*try {\r\n        await api.delete(`/posts/${id}`);\r\n        const postsList = posts.filter(post => post.id !== id);\r\n        setPosts(postsList);\r\n    } catch (err) {\r\n        console.log(`Error:${err.message}`);\r\n    }*/case 1:case\"end\":return _context.stop();}},_callee);}));return function handleDelete(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"main\",{className:\"PostPage\",children:/*#__PURE__*/_jsxs(\"article\",{className:\"post\",children:[post&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{className:\"postDate\",children:post.datetime}),/*#__PURE__*/_jsx(\"p\",{className:\"postBody\",children:post.body}),/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(post.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"editButton\",children:\"Edit Post\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:function onClick(){handleDelete(post.id);navigace(\"/\");},children:\"Delete Post\"})]}),!post&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Post not found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Well, that\\xB4s disappointing\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Visit Our Homepage\"})})]})]})});};export default PostPage;","map":{"version":3,"names":["useParams","Link","useNavigate","useStoreActions","useStoreState","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PostPage","_useParams","id","navigace","getPostId","actions","deletePost","post","handleDelete","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","_x","apply","arguments","className","children","title","datetime","body","to","concat","onClick"],"sources":["C:/Users/Jsala/Záloha/Osobní/Jirka/WeboveAplikace/Kurzy/Javascript/Kurz-jsReact/project-3a/src/PostPage.js"],"sourcesContent":["import {useParams, Link, useNavigate} from 'react-router-dom';\r\n/*import { useContext } from 'react';\r\nimport api from \"./api/posts\";\r\nimport DataContext from './context/DataContext';*/\r\nimport { useStoreActions,useStoreState } from 'easy-peasy';\r\n\r\nconst PostPage = (/*{posts, handleDelete}*/) => {\r\n  /*const {posts,setPosts}=useContext(DataContext);*/\r\n  const {id}=useParams();\r\n  const navigace=useNavigate();\r\n  const getPostId=useStoreState((actions)=>actions.getPostId);\r\n  const deletePost=useStoreActions((actions)=>actions.deletePost);\r\n  const post=getPostId(id);     /*posts.find(post=>(post.id).toString()===id);*/\r\n  \r\n\r\n  const handleDelete = async (id) => {\r\n    deletePost(id);\r\n    /*try {\r\n        await api.delete(`/posts/${id}`);\r\n        const postsList = posts.filter(post => post.id !== id);\r\n        setPosts(postsList);\r\n    } catch (err) {\r\n        console.log(`Error:${err.message}`);\r\n    }*/\r\n};\r\n    return (\r\n      <main className='PostPage'>\r\n        <article className='post'>\r\n          {post&& \r\n          <>\r\n            <h2>{post.title}</h2>\r\n            <p className='postDate'>{post.datetime}</p>\r\n            <p className='postBody'>{post.body}</p>\r\n            <Link to={`/edit/${post.id}`}><button className='editButton'>Edit Post</button></Link>\r\n            <button className=\"deleteButton\" onClick={()=> {\r\n              handleDelete(post.id);\r\n              navigace(\"/\");\r\n            } }>\r\n               Delete Post\r\n            </button>\r\n          </>}\r\n          {!post&& <>\r\n          <h2>Post not found</h2>\r\n          <p>Well, that´s disappointing</p>\r\n          <p>\r\n            <Link to=\"/\">Visit Our Homepage</Link>\r\n          </p>\r\n          </>}\r\n          \r\n        </article>\r\n      </main>\r\n    )\r\n  }\r\n  \r\n  export default PostPage\r\n  "],"mappings":"4XAAA,OAAQA,SAAS,CAAEC,IAAI,CAAEC,WAAW,KAAO,kBAAkB,CAC7D;AACA;AACA,kDACA,OAASC,eAAe,CAACC,aAAa,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3D,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAI,0BAA8B,CAC9C,mDACA,IAAAC,UAAA,CAAWZ,SAAS,CAAC,CAAC,CAAfa,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACT,GAAM,CAAAC,QAAQ,CAACZ,WAAW,CAAC,CAAC,CAC5B,GAAM,CAAAa,SAAS,CAACX,aAAa,CAAC,SAACY,OAAO,QAAG,CAAAA,OAAO,CAACD,SAAS,GAAC,CAC3D,GAAM,CAAAE,UAAU,CAACd,eAAe,CAAC,SAACa,OAAO,QAAG,CAAAA,OAAO,CAACC,UAAU,GAAC,CAC/D,GAAM,CAAAC,IAAI,CAACH,SAAS,CAACF,EAAE,CAAC,CAAM,gDAG9B,GAAM,CAAAM,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOX,EAAE,SAAAS,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC5BZ,UAAU,CAACJ,EAAE,CAAC,CACd;AACJ;AACA;AACA;AACA;AACA;AACA,OANI,wBAAAc,QAAA,CAAAG,IAAA,MAAAN,OAAA,GAOH,kBATO,CAAAL,YAAYA,CAAAY,EAAA,SAAAX,IAAA,CAAAY,KAAA,MAAAC,SAAA,OASnB,CACG,mBACE3B,IAAA,SAAM4B,SAAS,CAAC,UAAU,CAAAC,QAAA,cACxBzB,KAAA,YAASwB,SAAS,CAAC,MAAM,CAAAC,QAAA,EACtBjB,IAAI,eACLR,KAAA,CAAAF,SAAA,EAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,CAAKjB,IAAI,CAACkB,KAAK,CAAK,CAAC,cACrB9B,IAAA,MAAG4B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAEjB,IAAI,CAACmB,QAAQ,CAAI,CAAC,cAC3C/B,IAAA,MAAG4B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAEjB,IAAI,CAACoB,IAAI,CAAI,CAAC,cACvChC,IAAA,CAACL,IAAI,EAACsC,EAAE,UAAAC,MAAA,CAAWtB,IAAI,CAACL,EAAE,CAAG,CAAAsB,QAAA,cAAC7B,IAAA,WAAQ4B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,WAAS,CAAQ,CAAC,CAAM,CAAC,cACtF7B,IAAA,WAAQ4B,SAAS,CAAC,cAAc,CAACO,OAAO,CAAE,SAAAA,QAAA,CAAK,CAC7CtB,YAAY,CAACD,IAAI,CAACL,EAAE,CAAC,CACrBC,QAAQ,CAAC,GAAG,CAAC,CACf,CAAG,CAAAqB,QAAA,CAAC,aAEJ,CAAQ,CAAC,EACT,CAAC,CACF,CAACjB,IAAI,eAAGR,KAAA,CAAAF,SAAA,EAAA2B,QAAA,eACT7B,IAAA,OAAA6B,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB7B,IAAA,MAAA6B,QAAA,CAAG,+BAA0B,CAAG,CAAC,cACjC7B,IAAA,MAAA6B,QAAA,cACE7B,IAAA,CAACL,IAAI,EAACsC,EAAE,CAAC,GAAG,CAAAJ,QAAA,CAAC,oBAAkB,CAAM,CAAC,CACrC,CAAC,EACF,CAAC,EAEI,CAAC,CACN,CAAC,CAEX,CAAC,CAED,cAAe,CAAAxB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}